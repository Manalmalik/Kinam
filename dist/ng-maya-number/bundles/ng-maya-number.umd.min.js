!function(e,n){"object"==typeof exports&&"undefined"!=typeof module?n(exports,require("core"),require("shared"),require("@angular/animations"),require("@angular/core"),require("rxjs"),require("rxjs/operators"),require("decko")):"function"==typeof define&&define.amd?define("ng-maya-number",["exports","core","shared","@angular/animations","@angular/core","rxjs","rxjs/operators","decko"],n):n(e["ng-maya-number"]={},e.core,e.shared,e.ng.animations,e.ng.core,e.rxjs,e.rxjs.operators,e.decko)}(this,function(e,n,t,r,o,i,a,c){"use strict";var u=function(){function e(){}return e.prototype.ngOnInit=function(){this.triggerLoading=1},e.decorators=[{type:o.Component,args:[{selector:"kinam-maya-number",template:'<ng-container [ngSwitch]="number">\n  <kinam-icon *ngSwitchCase="\'@\'" name="maya-zero"></kinam-icon>\n  <kinam-icon *ngSwitchCase="\'.\'" name="maya-one"></kinam-icon>\n  <kinam-icon *ngSwitchCase="\'-\'" name="maya-five"></kinam-icon>\n</ng-container>\n',changeDetection:o.ChangeDetectionStrategy.OnPush,animations:[r.trigger("loading",[r.state("0",r.style({transform:"scale(0.75)"})),r.state("1",r.style({transform:"scale(1)"})),r.transition("* => *",[r.animate("0.5s")])])]}]}],e.propDecorators={number:[{type:o.Input}]},e}();function m(e,n){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(e,n)}var l={Zero:"@",One:".",Five:"-"},s=function(e){return void 0===e&&(e=1),new Array(e).fill(l.Five)},f=function(e){return void 0===e&&(e=1),new Array(e).fill(l.One)};function p(e){if(e!==NaN){if(0===e)return[[l.Zero]];for(var n,t,r,o=[],i=Math.floor((n=e,t=20,Math.log(n)/Math.log(t)));0<=i;i--){var a=Math.pow(20,i),c=Math.floor(e/a);e-=c*a,o.push((r=c)?[f(Math.floor(r%5)),s(Math.floor(r/5))]:[[l.Zero]])}return o.filter(function(e){return!!e.length})}}var g=function(){function e(){}return e.prototype.ngOnInit=function(){},e.prototype.getVal$=function(e){var n=this;return i.defer(function(){return i.of(e)}).pipe(a.map(function(e){return p(e)}),a.map(function(e){return e.map(function(e){return e.filter(function(e){return e.length})})}),a.map(function(e){return{numeric:e.map(function(e){return e.map(function(e){return n.getValFromRow(e)}).reduce(function(e,n){return e+n},0)}),block:e,inner:e.map(function(e){return{mayan:e,numeric:e.map(n.getValFromRow)}})}}))},e.prototype.getValFromRow=function(e){return e.reduce(function(e,n){switch(n){case l.Five:return e+5;case l.One:return e+1;default:return e}},0)},e.prototype.isSimpleNumber=function(e){return!e.length||"string"==typeof e},e.decorators=[{type:o.Component,args:[{selector:"kinam-maya-number-block",template:'<div *ngIf="getVal$(number) | async as numberBlock" class="number-container">\n  <section\n    *ngFor="let blockRow of numberBlock.block; let i = index"\n    class="maya-number-block"\n  >\n    <div\n      *ngFor="let numberRow of blockRow; let j = index"\n      class="number-row"\n      [class.inline-numbers]="\n        numberBlock.inner[i].numeric[j] < 5 &&\n        numberBlock.inner[i].numeric[j] > 1\n      "\n      [class.justify-content-center]="numberBlock.numeric[i] === 2"\n    >\n      <kinam-maya-number\n        *ngFor="let glyph of numberRow"\n        [number]="glyph"\n      ></kinam-maya-number>\n    </div>\n  </section>\n</div>\n<ng-content></ng-content>\n',changeDetection:o.ChangeDetectionStrategy.OnPush,styles:[":host{display:flex;flex-direction:column;justify-content:center;align-items:center;margin:.75rem 1.5rem;color:#fff}.number-container{border-radius:.5rem;background:#000}.maya-number-block{display:flex;justify-content:center;align-items:center;flex-direction:column;margin:0 auto;width:7.5rem;max-height:7rem;min-height:4rem;padding:.5rem .25rem;box-sizing:content-box}@media screen and (min-width:0px) and (max-width:480px){.maya-number-block{margin:.5rem;max-width:4.5rem}:host{margin:.5rem}}.inline-numbers{display:flex;justify-content:space-between;flex-direction:row;width:6rem}@media only screen and (max-width:600px){.number-row{width:4.75rem}}.number-row{text-align:center}.justify-content-center{justify-content:center}"]}]}],e.propDecorators={number:[{type:o.Input}]},function u(e,n,t,r){var o,i=arguments.length,a=i<3?n:null===r?r=Object.getOwnPropertyDescriptor(n,t):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(e,n,t,r);else for(var c=e.length-1;0<=c;c--)(o=e[c])&&(a=(i<3?o(a):3<i?o(n,t,a):o(n,t))||a);return 3<i&&a&&Object.defineProperty(n,t,a),a}([c.memoize,m("design:type",Function),m("design:paramtypes",[Object]),m("design:returntype",i.Observable)],e.prototype,"getVal$",null),e}(),d=function(){function e(){}return e.decorators=[{type:o.NgModule,args:[{imports:[n.CoreModule,t.SharedModule],declarations:[u,g],exports:[u,g]}]}],e}();e.MayanNumberModule=d,e.ɵb=g,e.ɵa=u,Object.defineProperty(e,"__esModule",{value:!0})});
//# sourceMappingURL=ng-maya-number.umd.min.js.map