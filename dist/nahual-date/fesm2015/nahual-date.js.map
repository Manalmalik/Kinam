{"version":3,"file":"nahual-date.js.map","sources":["ng://nahual-date/lib/day-sign.ts","ng://nahual-date/lib/nahual-date.ts"],"sourcesContent":["export const DAY_SIGNS = [\n  {\n    name: 'imix',\n    label: 'Imix',\n    day: 1\n  },\n  {\n    name: 'ik',\n    label: 'IkÊ¼',\n    day: 2\n  },\n  {\n    name: 'akbal',\n    label: 'AkÊ¼bÊ¼al',\n    day: 3\n  },\n  {\n    name: 'kan',\n    label: 'KÊ¼an',\n    day: 4\n  },\n  {\n    name: 'chicchan',\n    label: 'Chikchan',\n    day: 5\n  },\n  {\n    name: 'cimi',\n    label: 'Kimi',\n    day: 6\n  },\n  {\n    name: 'manik',\n    label: 'ManikÊ¼',\n    day: 7\n  },\n  {\n    name: 'lamat',\n    label: 'Lamat',\n    day: 8\n  },\n  {\n    name: 'muluc',\n    label: 'Muluk',\n    day: 9\n  },\n  {\n    name: 'oc',\n    label: 'Ok',\n    day: 10\n  },\n  {\n    name: 'chuen',\n    label: 'Chuwen',\n    day: 11\n  },\n  {\n    name: 'eb',\n    label: 'EbÊ¼',\n    day: 12\n  },\n  {\n    name: 'ben',\n    label: 'BÊ¼en',\n    day: 13\n  },\n  {\n    name: 'ix',\n    label: 'Ix',\n    day: 14\n  },\n  {\n    name: 'men',\n    label: 'Men',\n    day: 15\n  },\n  {\n    name: 'cib',\n    label: 'KibÊ¼',\n    day: 16\n  },\n  {\n    name: 'caban',\n    label: 'KabÊ¼an',\n    day: 17\n  },\n  {\n    name: 'etznab',\n    label: 'EtzÊ¼nabÊ¼',\n    day: 18\n  },\n  {\n    name: 'cauac',\n    label: 'Kawak',\n    day: 19\n  },\n  {\n    name: 'ahau',\n    label: 'Ajaw',\n    day: 20\n  }\n];\n","import { format } from 'date-fns';\nimport * as nahualGetter from 'nahuales';\n\nimport { DAY_SIGNS } from './day-sign';\nimport { of } from 'rxjs';\n\nconst FORMAT = 'YYYY-MM-DD';\nconst INVALID_DATE = 'Invalid Date';\n\nfunction findDaySign(day: number) {\n  const sign = DAY_SIGNS.find(s => s.day === day);\n  return sign ? sign : { name: '', label: '' };\n}\n\nconst getImg = (daySign: string) =>\n  daySign ? `assets/signs/${daySign}.png` : '';\n\nconst isValidDate = (date: string | Date) => {\n  return format(date, FORMAT) !== INVALID_DATE;\n};\n\nclass KinamNahual {\n  public nahualName: string;\n  public nahualDay: number;\n  public daySign: string;\n  public image: string;\n  public date: Date;\n  public label: string;\n\n  constructor(date?: Date) {\n    if (isValidDate(date)) {\n      this.date = new Date(date);\n    } else {\n      this.date = new Date();\n    }\n\n    this.update(this.date);\n  }\n\n  public update(date: Date) {\n    this.date = date;\n\n    const { nahual, day } = nahualGetter.nahual(this.date);\n\n    this.nahualDay = day;\n    this.nahualName = nahual;\n    /**\n     * TODO: validate day signs with dag\n     */\n    const daySign = findDaySign(this.nahualDay);\n    this.daySign = daySign.label;\n\n    this.image = getImg(daySign.name);\n  }\n\n  public format(customFormat = FORMAT) {\n    return format(this.date, customFormat);\n  }\n\n  public get day() {\n    return this.date.getDate();\n  }\n\n  public get month() {\n    return this.date.getMonth() + 1;\n  }\n\n  public get year() {\n    return this.date.getFullYear();\n  }\n}\n\nconst kinamNahual = (date: Date) => new KinamNahual(date);\nconst asObservable = (date: Date) => of(kinamNahual(date));\n\nexport { kinamNahual, KinamNahual, isValidDate, asObservable };\n"],"names":["nahual","nahualGetter.nahual"],"mappings":"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"}
