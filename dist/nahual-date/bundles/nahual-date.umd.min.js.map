{"version":3,"sources":["ng://nahual-date/lib/day-sign.ts","ng://nahual-date/lib/nahual-date.ts"],"names":["DAY_SIGNS","name","label","day","FORMAT","isValidDate","date","format","KinamNahual","this","Date","update","prototype","_a","nahualGetter","nahual","nahualDay","nahualName","daySign","findDaySign","sign","find","s","image","customFormat","Object","defineProperty","getDate","getMonth","getFullYear","kinamNahual","of"],"mappings":"0UAAA,IAAaA,EAAY,CACvB,CACEC,KAAM,OACNC,MAAO,OACPC,IAAK,GAEP,CACEF,KAAM,KACNC,MAAO,MACPC,IAAK,GAEP,CACEF,KAAM,QACNC,MAAO,UACPC,IAAK,GAEP,CACEF,KAAM,MACNC,MAAO,OACPC,IAAK,GAEP,CACEF,KAAM,WACNC,MAAO,WACPC,IAAK,GAEP,CACEF,KAAM,OACNC,MAAO,OACPC,IAAK,GAEP,CACEF,KAAM,QACNC,MAAO,SACPC,IAAK,GAEP,CACEF,KAAM,QACNC,MAAO,QACPC,IAAK,GAEP,CACEF,KAAM,QACNC,MAAO,QACPC,IAAK,GAEP,CACEF,KAAM,KACNC,MAAO,KACPC,IAAK,IAEP,CACEF,KAAM,QACNC,MAAO,SACPC,IAAK,IAEP,CACEF,KAAM,KACNC,MAAO,MACPC,IAAK,IAEP,CACEF,KAAM,MACNC,MAAO,OACPC,IAAK,IAEP,CACEF,KAAM,KACNC,MAAO,KACPC,IAAK,IAEP,CACEF,KAAM,MACNC,MAAO,MACPC,IAAK,IAEP,CACEF,KAAM,MACNC,MAAO,OACPC,IAAK,IAEP,CACEF,KAAM,QACNC,MAAO,SACPC,IAAK,IAEP,CACEF,KAAM,SACNC,MAAO,WACPC,IAAK,IAEP,CACEF,KAAM,QACNC,MAAO,QACPC,IAAK,IAEP,CACEF,KAAM,OACNC,MAAO,OACPC,IAAK,KC7FHC,EAAS,iBAWTC,EAAc,SAACC,GACnB,MAXmB,iBAWZC,EAAAA,OAAOD,EAAMF,iBAWpB,SAAAI,EAAYF,GACND,EAAYC,GACdG,KAAKH,KAAO,IAAII,KAAKJ,GAErBG,KAAKH,KAAO,IAAII,KAGlBD,KAAKE,OAAOF,KAAKH,MAkCrB,OA/BSE,EAAAI,UAAAD,OAAP,SAAcL,GACZG,KAAKH,KAAOA,EAEN,IAAAO,EAAAC,EAAAC,OAAAN,KAAAH,MAAES,EAAAF,EAAAE,OAAQZ,EAAAU,EAAAV,IAEhBM,KAAKO,UAAYb,EACjBM,KAAKQ,WAAaF,MA/BNG,EAmCNA,EAxCV,SAASC,EAAYhB,OACbiB,EAAOpB,EAAUqB,KAAK,SAAAC,GAAK,OAAAA,EAAEnB,MAAQA,IAC3C,OAAOiB,GAAc,CAAEnB,KAAM,GAAIC,MAAO,IAsCtBiB,CAAYV,KAAKO,WACjCP,KAAKS,QAAUA,EAAQhB,MAEvBO,KAAKc,OAtCOL,EAsCQA,EAAQjB,MArCpB,gBAAgBiB,EAAO,OAAS,IAwCnCV,EAAAI,UAAAL,OAAP,SAAciB,GACZ,YADY,IAAAA,IAAAA,EAAApB,GACLG,EAAAA,OAAOE,KAAKH,KAAMkB,IAG3BC,OAAAC,eAAWlB,EAAAI,UAAA,MAAG,KAAd,WACE,OAAOH,KAAKH,KAAKqB,2CAGnBF,OAAAC,eAAWlB,EAAAI,UAAA,QAAK,KAAhB,WACE,OAAOH,KAAKH,KAAKsB,WAAa,mCAGhCH,OAAAC,eAAWlB,EAAAI,UAAA,OAAI,KAAf,WACE,OAAOH,KAAKH,KAAKuB,+CAErBrB,KAEMsB,EAAc,SAACxB,GAAe,OAAA,IAAIE,EAAYF,mEAC/B,SAACA,GAAe,OAAAyB,EAAAA,GAAGD,EAAYxB","sourcesContent":["export const DAY_SIGNS = [\n  {\n    name: 'imix',\n    label: 'Imix',\n    day: 1\n  },\n  {\n    name: 'ik',\n    label: 'IkÊ¼',\n    day: 2\n  },\n  {\n    name: 'akbal',\n    label: 'AkÊ¼bÊ¼al',\n    day: 3\n  },\n  {\n    name: 'kan',\n    label: 'KÊ¼an',\n    day: 4\n  },\n  {\n    name: 'chicchan',\n    label: 'Chikchan',\n    day: 5\n  },\n  {\n    name: 'cimi',\n    label: 'Kimi',\n    day: 6\n  },\n  {\n    name: 'manik',\n    label: 'ManikÊ¼',\n    day: 7\n  },\n  {\n    name: 'lamat',\n    label: 'Lamat',\n    day: 8\n  },\n  {\n    name: 'muluc',\n    label: 'Muluk',\n    day: 9\n  },\n  {\n    name: 'oc',\n    label: 'Ok',\n    day: 10\n  },\n  {\n    name: 'chuen',\n    label: 'Chuwen',\n    day: 11\n  },\n  {\n    name: 'eb',\n    label: 'EbÊ¼',\n    day: 12\n  },\n  {\n    name: 'ben',\n    label: 'BÊ¼en',\n    day: 13\n  },\n  {\n    name: 'ix',\n    label: 'Ix',\n    day: 14\n  },\n  {\n    name: 'men',\n    label: 'Men',\n    day: 15\n  },\n  {\n    name: 'cib',\n    label: 'KibÊ¼',\n    day: 16\n  },\n  {\n    name: 'caban',\n    label: 'KabÊ¼an',\n    day: 17\n  },\n  {\n    name: 'etznab',\n    label: 'EtzÊ¼nabÊ¼',\n    day: 18\n  },\n  {\n    name: 'cauac',\n    label: 'Kawak',\n    day: 19\n  },\n  {\n    name: 'ahau',\n    label: 'Ajaw',\n    day: 20\n  }\n];\n","import { format } from 'date-fns';\nimport * as nahualGetter from 'nahuales';\n\nimport { DAY_SIGNS } from './day-sign';\nimport { of } from 'rxjs';\n\nconst FORMAT = 'YYYY-MM-DD';\nconst INVALID_DATE = 'Invalid Date';\n\nfunction findDaySign(day: number) {\n  const sign = DAY_SIGNS.find(s => s.day === day);\n  return sign ? sign : { name: '', label: '' };\n}\n\nconst getImg = (daySign: string) =>\n  daySign ? `assets/signs/${daySign}.png` : '';\n\nconst isValidDate = (date: string | Date) => {\n  return format(date, FORMAT) !== INVALID_DATE;\n};\n\nclass KinamNahual {\n  public nahualName: string;\n  public nahualDay: number;\n  public daySign: string;\n  public image: string;\n  public date: Date;\n  public label: string;\n\n  constructor(date?: Date) {\n    if (isValidDate(date)) {\n      this.date = new Date(date);\n    } else {\n      this.date = new Date();\n    }\n\n    this.update(this.date);\n  }\n\n  public update(date: Date) {\n    this.date = date;\n\n    const { nahual, day } = nahualGetter.nahual(this.date);\n\n    this.nahualDay = day;\n    this.nahualName = nahual;\n    /**\n     * TODO: validate day signs with dag\n     */\n    const daySign = findDaySign(this.nahualDay);\n    this.daySign = daySign.label;\n\n    this.image = getImg(daySign.name);\n  }\n\n  public format(customFormat = FORMAT) {\n    return format(this.date, customFormat);\n  }\n\n  public get day() {\n    return this.date.getDate();\n  }\n\n  public get month() {\n    return this.date.getMonth() + 1;\n  }\n\n  public get year() {\n    return this.date.getFullYear();\n  }\n}\n\nconst kinamNahual = (date: Date) => new KinamNahual(date);\nconst asObservable = (date: Date) => of(kinamNahual(date));\n\nexport { kinamNahual, KinamNahual, isValidDate, asObservable };\n"]}