{"version":3,"file":"nahual-date.umd.js.map","sources":["ng://nahual-date/lib/day-sign.ts","ng://nahual-date/lib/nahual-date.ts"],"sourcesContent":["export const DAY_SIGNS = [\n  {\n    name: 'imix',\n    label: 'Imix',\n    day: 1\n  },\n  {\n    name: 'ik',\n    label: 'IkÊ¼',\n    day: 2\n  },\n  {\n    name: 'akbal',\n    label: 'AkÊ¼bÊ¼al',\n    day: 3\n  },\n  {\n    name: 'kan',\n    label: 'KÊ¼an',\n    day: 4\n  },\n  {\n    name: 'chicchan',\n    label: 'Chikchan',\n    day: 5\n  },\n  {\n    name: 'cimi',\n    label: 'Kimi',\n    day: 6\n  },\n  {\n    name: 'manik',\n    label: 'ManikÊ¼',\n    day: 7\n  },\n  {\n    name: 'lamat',\n    label: 'Lamat',\n    day: 8\n  },\n  {\n    name: 'muluc',\n    label: 'Muluk',\n    day: 9\n  },\n  {\n    name: 'oc',\n    label: 'Ok',\n    day: 10\n  },\n  {\n    name: 'chuen',\n    label: 'Chuwen',\n    day: 11\n  },\n  {\n    name: 'eb',\n    label: 'EbÊ¼',\n    day: 12\n  },\n  {\n    name: 'ben',\n    label: 'BÊ¼en',\n    day: 13\n  },\n  {\n    name: 'ix',\n    label: 'Ix',\n    day: 14\n  },\n  {\n    name: 'men',\n    label: 'Men',\n    day: 15\n  },\n  {\n    name: 'cib',\n    label: 'KibÊ¼',\n    day: 16\n  },\n  {\n    name: 'caban',\n    label: 'KabÊ¼an',\n    day: 17\n  },\n  {\n    name: 'etznab',\n    label: 'EtzÊ¼nabÊ¼',\n    day: 18\n  },\n  {\n    name: 'cauac',\n    label: 'Kawak',\n    day: 19\n  },\n  {\n    name: 'ahau',\n    label: 'Ajaw',\n    day: 20\n  }\n];\n","import { format } from 'date-fns';\nimport * as nahualGetter from 'nahuales';\n\nimport { DAY_SIGNS } from './day-sign';\nimport { of } from 'rxjs';\n\nconst FORMAT = 'YYYY-MM-DD';\nconst INVALID_DATE = 'Invalid Date';\n\nfunction findDaySign(day: number) {\n  const sign = DAY_SIGNS.find(s => s.day === day);\n  return sign ? sign : { name: '', label: '' };\n}\n\nconst getImg = (daySign: string) =>\n  daySign ? `assets/signs/${daySign}.png` : '';\n\nconst isValidDate = (date: string | Date) => {\n  return format(date, FORMAT) !== INVALID_DATE;\n};\n\nclass KinamNahual {\n  public nahualName: string;\n  public nahualDay: number;\n  public daySign: string;\n  public image: string;\n  public date: Date;\n  public label: string;\n\n  constructor(date?: Date) {\n    if (isValidDate(date)) {\n      this.date = new Date(date);\n    } else {\n      this.date = new Date();\n    }\n\n    this.update(this.date);\n  }\n\n  public update(date: Date) {\n    this.date = date;\n\n    const { nahual, day } = nahualGetter.nahual(this.date);\n\n    this.nahualDay = day;\n    this.nahualName = nahual;\n    /**\n     * TODO: validate day signs with dag\n     */\n    const daySign = findDaySign(this.nahualDay);\n    this.daySign = daySign.label;\n\n    this.image = getImg(daySign.name);\n  }\n\n  public format(customFormat = FORMAT) {\n    return format(this.date, customFormat);\n  }\n\n  public get day() {\n    return this.date.getDate();\n  }\n\n  public get month() {\n    return this.date.getMonth() + 1;\n  }\n\n  public get year() {\n    return this.date.getFullYear();\n  }\n}\n\nconst kinamNahual = (date: Date) => new KinamNahual(date);\nconst asObservable = (date: Date) => of(kinamNahual(date));\n\nexport { kinamNahual, KinamNahual, isValidDate, asObservable };\n"],"names":["format","of"],"mappings":"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"}
