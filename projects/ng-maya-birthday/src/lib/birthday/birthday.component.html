<div
  [formGroup]="form"
  class="birthday-blocks"
>
  <kinam-maya-number-block [number]="kinamDate?.day">
    <input
      class="date-input"
      type="number"
      min="1"
      [max]="maxDates[form?.get('month')?.value - 1]"
      placeholder="Day"
      formControlName="day"
    />
  </kinam-maya-number-block>

  <kinam-maya-number-block [number]="kinamDate?.month">
    <input
      class="date-input"
      type="number"
      min="1"
      max="12"
      placeholder="Month"
      formControlName="month"
    />
  </kinam-maya-number-block>

  <kinam-maya-number-block [number]="kinamDate?.year">
    <input
      class="date-input"
      type="number"
      min="1900"
      max="2099"
      placeholder="Year"
      formControlName="year"
    />
  </kinam-maya-number-block>
</div>

<div
  class="anim-container"
  *ngIf="content$ | async as content"
  [ngSwitch]="!(loading$ | async)"
>

  <div
    class="reading columns"
    *ngSwitchCase="true"
    [@calc]
  >
    <div class="column is-4-desktop">
      <h2 class="title has-text-centered has-text-white">
        {{content.your_nahual}} {{ kinamDate?.nahualName  }}
      </h2>
      <h2 class="title has-text-centered has-text-white">
        {{content.your_daysign}} {{ kinamDate?.daySign }}
      </h2>
    </div>
    <div class="column is-4-desktop">
      <img
        *ngIf="kinamDate?.image"
        [src]="kinamDate?.image"
        [attr.alt]="'Nahual Sign: ' + kinamDate?.daySign"
      />
    </div>
    <div class="column is-4">
      <h2 class="title has-text-centered has-text-white">
        {{content.your_nahual_number}} {{ kinamDate?.nahualDay  }}
      </h2>
      <kinam-maya-number-block
        class="is-centered is-inverted"
        [number]="kinamDate?.nahualDay"
      ></kinam-maya-number-block>
    </div>
  </div>

  <div
    class="columns"
    *ngSwitchCase="true"
  >
    <div class="column is-6 is-offset-3 flex-center">
      <kinam-readings></kinam-readings>
    </div>
  </div>

  <div
    *ngSwitchCase="false"
    [@calc]
    class="calculating"
  >
    <h2 class="title has-text-white"> {{content.calculating}}</h2>
    <div>
      <svg
        width="100px"
        height="100px"
        xmlns="http://www.w3.org/2000/svg"
        viewBox="0 0 100 100"
        preserveAspectRatio="xMidYMid"
        class="lds-ball"
        style="background: none;"
      >
        <circle
          cx="50"
          cy="35.7097"
          r="13"
          fill="#fdfdfd"
        >
          <animate
            attributeName="cy"
            calcMode="spline"
            values="23;77;23"
            keyTimes="0;0.5;1"
            dur="1"
            keySplines="0.45 0 0.9 0.55;0 0.45 0.55 0.9"
            begin="0s"
            repeatCount="indefinite"
          ></animate>
        </circle>
      </svg>
    </div>
  </div>
</div>